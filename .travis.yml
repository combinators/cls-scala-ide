sudo: false
language: scala
stages:
- test
- name: deploy
  if: branch = master AND NOT type IN (pull_request)
script: sbt +test
jobs:
  include:
  - stage: test
    jdk: oraclejdk8
  - stage: test
    jdk: openjdk8
    script: sbt clean coverage +test && sbt coverageReport coveralls
  - stage: deploy
    jdk: openjdk8
    script: |
      openssl aes-256-cbc -K $encrypted_1f526027b32d_key -iv $encrypted_1f526027b32d_iv -in travis/secrets.tar.enc -out travis/local.secrets.tar -d &&
        tar xv -C travis -f travis/local.secrets.tar &&
        sbt +releaseEarly
env:
  global:
  - secure: MsBIEfaKZERQdQVbHPfhMEPm/9Kk6AS4x0qHYnCrcyvBcwGgRnPgbO+ZYg+c+4vvlOxKHgS2U1yhEbwYd0TEUERuz/CWHcgDoBIw5T0Jsu7Vvf4BgG9GI9lSwCb10enwfd3r2/Ts4kD4ZJF4xVFT3yFdstt31qHrJss9gFTgtJ6qnncZPS0juQdwePbprDXk1tGW3yeY7Bwb2wRLmO5A72UiNZG8JTSb4b4mx5d1zSyN6TfsdHtIZpenRaVDlFP3dsirxQ7eeR4a85v6AmgE3nHMpK9JO4qR8eO4prRwgIxcUv2EpvnAdkThQp1iWtVMTqmd59MtCjyViQ3qsn5INDQXie8Uc500VMdtJYeWH7aOBlnvongRiXWdnqHht4IDhcj1+cl14PWDGf8RuOqgdIMqhM+i4IoLugxgUgRVS+O4ZBPbZCG98vL0ScQY0ii0OOvmrNiBebee3ihikECe0ymaXODcafFcTnbF5TaQ9e71uedYWtKUy8KDrTq4s3rQYF3QdTppoyvbC3ahatlqAx3B+s7afHQELDRyQcbpSTBhX0wme0rlTVh7nEpjpl/uOSxLAgmKlIgJbB78GXSPy9gitx2YJ+hllKmdhI2quDO0lOvBnMbt2vCwLBHcB0bxRiTyhHD51suHJcmp6r8wSUsbWR+Y45yiR5NeGr9/YF4=
  - secure: svyZHEB0Mvrswu7n1BeVH++/fW2GOKJpcxkGZSIcrIpJUH2VWdr7tErAh9pkjhNP36pVFraDy+SQEhRYl08wlT3zY+zPjvuGI9QOLfW6kieWG21op+gM4VhPKaC2CRtLhuEXL/ltsLUFuJkSJhWRTziFNyLlYOsuuOfeQ9u/zUXkXw+Fbrhpxe1gO63F+oUos4amU7gRMY+B+nTPhUkz5ymeaWCMmYQNGCQMfHaThfveRGaTLyfU2WCjU3WbXklydStldvvo7vLHiO4ydJE6JwqnjeEDLnjAWTYYH+/nm3pqDjRXZXEFY1KCVpkHg1aDD9Gov0KRXuplHADCwWbT7NJeQ1NuaLuAzV1By16B2Jw6szLPejb8izfjnkbluR/Sy7e0hPortoeAJu29hZtSzGXEn6duVaqFRiYYRU3ELKzC6Hm6xykX2YkAunYejqJwyEwApzd5TlEE/FYY1tjpLLrPMpxi/9jg/0opruzqDAKVQllVMJ1NkJmmMlebW8SaEpcwObSNbftHikiGuDQSQ/tyaOE2H8+cNAYRGwDJ6dYbcY++0KKyvsRxNGllu53qWRa776PN9QhO8u1aKjIK7PtooCassyqvunucVE4xuQApoXSJR+G5sEIKDFEDU9TAffs1N+nlKMeHtReOsjSD+M0IlT7a9TlsY789eSO2FVU=
  - secure: rAaMEa/UF/WjvwJGGD6FUhVxc6MGKJ6msWBiVxo37n8zQXJIpUm2X9l3OdbKY6IYcWukoWEQzRubaHp0k3MGxUSPak9nbRK34uZKLapSplAWYxgvgmX0tjHdgjcbc/c3tWX5UUK+CtBzdxH0eHbqiv+j9DJtdY9s26tEWXvaREukYMBLqgJ4IxTVHI1SZfnRj7aSqUdd5T5oJTfs+2uBaPPGLxhQGn+kgpZfLyaoS+mIDRv6CagXLUnmUGsyO1gokgYpbrDnsrAKtosXG6M4Q4kq0WQDOPE2/foNlBaRL6PX/68TGrtY8v7cts16HzN/9JJcR2EcI2ANjbLpcf3aeAEaoZMkhg6dfIzqOxhJFMdJ27fbhD/aaBaOAaW3a0AjxIYMQdheWZqcHZgFo6b1Y23RER/DygOMn8ntc6mDt6xc58aT5XbeTFTEXNu/R3Qd9gwm5bk4eufgwfMURR9cB8NWz/Z/jyWvjM883etx3UGiku864vuxQJZRkFb5XlR3+wCaAjmEqgNUp67ufI7L9n5TQGTSsAz6OjZfQ40rfN43uiEMMDbK1lZZTfycYRtjroNjTAiV8RUdvzXFnXI4VrtoRtBpvASIKnRjPJuy6MAqKkFASlosjzTX3jHpZ82J8xutfmb92JcGD5el+VjnBnwaVUdtdPsdTqxIgKB7L6o=
